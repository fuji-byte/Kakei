# Kakei App

シンプルで直感的に使える **家計メモアプリ**です。  
セクションごとにアイテム（項目）を管理することができます。
また、オプションで合計金額を確認できます。
自分の好みであるミニマリズムの考え方を取り入れ、通常表示時に必要最低限の表示しかしない設計になっている。

## 経緯

普段から収入、支出をメモしていたら収入、支出があるたびに毎回計算をしなければならなくて面倒だと思ったから。

## 主な機能

- セクション（例：食費・交通費など）の作成 / 編集 / 削除
- セクション内アイテムの作成 / 編集 / 削除
- 金額の入力・編集
- セクションごとの **合計金額表示の ON / OFF**
- データのローカル保存（SQLite）

## 技術スタック

- **React Native**
- **Expo**
- **TypeScript**
- **SQLite（expo-sqlite）**
- **EAS Build**（実機用ビルド）

## ディレクトリ構成

```
Kakei/
├─ components/
│ ├─ section.tsx # セクション表示コンポーネント
│ ├─ item.tsx # アイテム表示コンポーネント
│ ├─ optionModal.tsx # 合計金額表示切替モーダル
│ └─ sectionService.ts # セクション・アイテム関連のロジック
├─ db/
│ ├─ database.ts # SQLite 初期化関連
│ ├─ sectionRepo.ts # セクションDB操作（作成 / 編集 / 削除）
│ └─ itemRepo.ts # アイテムDB操作（作成 / 編集 / 削除）
├─ types/
│ └─ types.ts # Section / Item 型定義
```

## 開発セットアップ

```bash
npm install
npx expo start
```

## 実機ビルド

```bash
# Android 実機用ビルド
npx eas build -p android

# iOS 実機用ビルド
npx eas build -p ios
```

※EASアカウントが必要

## こだわったところ

構造がしっかりしていてわかりやすい設計にした。特に、sectionService.tsとしてsection.tsxと分離することで、責務を分離することができている。
コメントアウトを積極的に書き、他の人に見てもらうとき・自分で見返すときに理解しやすいようにしている。
データベースのselectDB()でJOINを使うことで、必要な行のみを取得するようにしている。また、Mapを用いて高速にid検索ができるようにしている。

## 開発予定

入力時にレイアウトがずれるので修正。
セクションごとの資金の割合をグラフで表示。特定のセクションは加えないなどのオプションをつける。
アイテムが多いときに上位5件のみ表示。クリックで全件表示
セクション間やアイテム間で計算ができるよう、マクロの作成機能をつくる。
アプリの表示にパスワードを必要にすることで、他の人に開かれても大丈夫なようにする。
定量、定期的な入金（仕送りやおこずかいなど）、出金（サブスクなど）を毎回入力しないでもよくする。
税金の申請サポートを実装する。（納税義務があるか、いくらになるかの計算を自動でする）何年度の法律にのっとっているか、利用は自己責任と書いておく。

## License

MIT
